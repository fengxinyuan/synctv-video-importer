# SyncTV æ‰¹é‡å¯¼å…¥å·¥å…·

æ‰¹é‡å¯¼å…¥è§†é¢‘é“¾æŽ¥åˆ° SyncTV æˆ¿é—´çš„ Python å·¥å…·ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- âœ… æ”¯æŒè´¦å·å¯†ç ç™»å½•æˆ– Token è®¤è¯
- âœ… æ‰¹é‡å¯¼å…¥è§†é¢‘é“¾æŽ¥
- âœ… æ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼ (`åç§°$é“¾æŽ¥`, `é“¾æŽ¥|åç§°`, çº¯é“¾æŽ¥)
- âœ… äº¤äº’å¼é‡å‘½ååŠŸèƒ½
- âœ… è¯¦ç»†çš„é”™è¯¯æç¤º
- ðŸ†• **ç›´æŽ¥ä»Žé‡‡é›†ç«™æœç´¢å¹¶å¯¼å…¥èµ„æº**

## å·¥å…·åˆ—è¡¨

### 1. synctv_collector.py (ðŸ†• æŽ¨è!)
**é‡‡é›†ç«™èµ„æºæœç´¢å¯¼å…¥å·¥å…· v2.1**

```bash
python3 synctv_collector.py
```

ç‰¹ç‚¹:
- âœ… æ”¯æŒ 9 ä¸ªå·²æµ‹è¯•å¯ç”¨çš„é‡‡é›†ç«™
- âœ… å…³é”®è¯æœç´¢å½±è§†èµ„æº
- âœ… æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼ˆæ¼”å‘˜ã€å¯¼æ¼”ã€ç®€ä»‹ï¼‰
- âœ… å¤šæ’­æ”¾æºé€‰æ‹©
- âœ… çµæ´»çš„é›†æ•°èŒƒå›´å¯¼å…¥
- âœ… æ™ºèƒ½é‡è¯•æœºåˆ¶ï¼ˆå¤±è´¥è‡ªåŠ¨é‡è¯•ï¼‰
- âœ… ç›´æŽ¥å¯¼å…¥åˆ° SyncTV æˆ¿é—´
- ðŸ†• **æ”¯æŒè‡ªå®šä¹‰é‡‡é›†ç«™é…ç½®**

**æ”¯æŒçš„é‡‡é›†ç«™ (å·²æµ‹è¯•å¯ç”¨):**
1. âœ“ é‡å­èµ„æº (cj.lziapi.com)
2. âœ“ 360èµ„æº (360zy5.com) â­å¿…é€‰
3. âœ“ çº¢ç‰›èµ„æº (hongniuzy2.com) â­å¿…é€‰
4. âœ“ é€Ÿæ’­èµ„æº (subocaiji.com)
5. âœ“ æœ€å¤§èµ„æº (api.zuidapi.com)
6. âœ“ å§é¾™èµ„æº (collect.wolongzyw.com)
7. âœ“ å…‰é€Ÿèµ„æº (api.guangsuapi.com)
8. âœ“ æ–°æµªèµ„æº (api.xinlangapi.com)
9. âœ“ æ— å°½èµ„æº (api.wujinapi.com)

**å¯é€‰é‡‡é›†ç«™ï¼ˆéœ€è¦ç‰¹æ®Šç½‘ç»œçŽ¯å¢ƒï¼‰:**
- é­”éƒ½èµ„æº (moduzy.com) - å¯èƒ½éœ€è¦ä»£ç†
- æ·˜ç‰‡èµ„æº (taopianzy.com) - å¯èƒ½éœ€è¦ä»£ç†

### 2. synctv_import.py
**æœ¬åœ°æ–‡ä»¶æ‰¹é‡å¯¼å…¥ç‰ˆæœ¬**

```bash
python3 synctv_import.py
```

ç‰¹ç‚¹:
- ä½¿ç”¨è´¦å·å¯†ç ç™»å½•
- é»˜è®¤ç”¨æˆ·å/å¯†ç : root/root
- é»˜è®¤æ–‡ä»¶: videos.txt
- æ”¯æŒäº¤äº’å¼é‡å‘½å

### 3. synctv_import_token.py
**Token è®¤è¯ç‰ˆæœ¬**

```bash
python3 synctv_import_token.py videos.txt
```

ç‰¹ç‚¹:
- ä½¿ç”¨ Bearer Token è®¤è¯
- éœ€è¦åœ¨è„šæœ¬ä¸­é…ç½® TOKEN å’Œ ROOM_ID
- é€‚åˆè‡ªåŠ¨åŒ–è„šæœ¬

## å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€: ä»Žé‡‡é›†ç«™æœç´¢å¯¼å…¥ (ðŸ†• æœ€ç®€å•)

```bash
python3 synctv_collector.py
```

**äº¤äº’å¼æ“ä½œæµç¨‹:**
1. é€‰æ‹©é‡‡é›†ç«™ (1-6)
2. è¾“å…¥æœç´¢å…³é”®è¯ (å¦‚: ç‹‚é£™)
3. é€‰æ‹©æœç´¢ç»“æžœ
4. æŸ¥çœ‹è§†é¢‘è¯¦æƒ…å’Œæ’­æ”¾æº
5. é€‰æ‹©æ’­æ”¾æºå’Œé›†æ•°èŒƒå›´ (all/1-10/5)
6. è¾“å…¥ SyncTV æˆ¿é—´ä¿¡æ¯
7. ç¡®è®¤å¯¼å…¥

**ç¤ºä¾‹:**
```
é€‰æ‹©é‡‡é›†ç«™ [1-6]: 1
æœç´¢å…³é”®è¯: ç‹‚é£™

æ‰¾åˆ° 5 ä¸ªç»“æžœï¼š
1    ç‹‚é£™                 è¿žç»­å‰§    2023
2    ç‹‚é£™2024             è¿žç»­å‰§    2024

é€‰æ‹©ç»“æžœåºå·: 1

ðŸ“º ç‹‚é£™
   ç±»åž‹: è¿žç»­å‰§
   å¹´ä»½: 2023
   å¯¼æ¼”: å¾çºªå‘¨
   ä¸»æ¼”: å¼ è¯‘/å¼ é¢‚æ–‡/æŽä¸€æ¡

å¯ç”¨æ’­æ”¾æº:
  [1] éžå‡¡èµ„æº - 39 é›†
  [2] é‡å­èµ„æº - 39 é›†

é€‰æ‹©æ’­æ”¾æº [1-2]: 1
å¯¼å…¥èŒƒå›´: all

âœ“ æˆåŠŸå¯¼å…¥ 39 ä¸ªè§†é¢‘
```

### æ–¹å¼äºŒ: ä»Žæœ¬åœ°æ–‡ä»¶å¯¼å…¥

#### 1. å‡†å¤‡è§†é¢‘åˆ—è¡¨

ç¼–è¾‘ `videos.txt`:

```
# æ ¼å¼ 1: åç§°$é“¾æŽ¥
ç¬¬1é›†$https://example.com/video1.m3u8
ç¬¬2é›†$https://example.com/video2.m3u8

# æ ¼å¼ 2: é“¾æŽ¥|åç§°
https://example.com/video3.mp4|ç”µå½±åç§°

# æ ¼å¼ 3: ä»…é“¾æŽ¥
https://example.com/video4.mp4
```

#### 2. è¿è¡Œå¯¼å…¥

```bash
python3 synctv_import.py
```

æŒ‰æç¤ºè¾“å…¥:
- æˆ¿é—´ ID (32ä½å­—ç¬¦)
- ç”¨æˆ·å (é»˜è®¤: root)
- å¯†ç  (é»˜è®¤: root)
- æ–‡ä»¶è·¯å¾„ (é»˜è®¤: videos.txt)
- æ˜¯å¦é‡å‘½å (y/N)

## æ–‡ä»¶æ ¼å¼

æ”¯æŒä¸‰ç§æ ¼å¼:

| æ ¼å¼ | ç¤ºä¾‹ | è¯´æ˜Ž |
|------|------|------|
| åç§°$é“¾æŽ¥ | `ç¬¬1é›†$https://example.com/video.m3u8` | åç§°åœ¨å‰,é“¾æŽ¥åœ¨åŽ |
| é“¾æŽ¥\|åç§° | `https://example.com/video.mp4\|ç”µå½±` | é“¾æŽ¥åœ¨å‰,åç§°åœ¨åŽ |
| ä»…é“¾æŽ¥ | `https://example.com/video.mp4` | è‡ªåŠ¨ä½¿ç”¨æ–‡ä»¶å |

æ³¨é‡Šè¡Œä»¥ `#` å¼€å¤´ä¼šè¢«å¿½ç•¥ã€‚

## ç¤ºä¾‹

```bash
# åˆ›å»ºè§†é¢‘åˆ—è¡¨
cat > videos.txt << 'EOF'
# ç”µè§†å‰§
ç¬¬1é›†$https://example.com/ep1.m3u8
ç¬¬2é›†$https://example.com/ep2.m3u8

# ç”µå½±
https://example.com/movie.mp4|åŠŸå¤«ç†ŠçŒ«
EOF

# è¿è¡Œå¯¼å…¥
python3 synctv_import.py
```

## å¸¸è§é—®é¢˜

### é‡‡é›†ç«™å·¥å…·ç›¸å…³

**Q: é‡‡é›†ç«™æ— æ³•è®¿é—®æ€Žä¹ˆåŠž?**
A: é‡‡é›†ç«™å¯èƒ½éœ€è¦ç§‘å­¦ä¸Šç½‘,æˆ–å°è¯•å…¶ä»–é‡‡é›†ç«™

**Q: æœç´¢ä¸åˆ°æƒ³è¦çš„èµ„æº?**
A: å°è¯•æ›´æ¢é‡‡é›†ç«™,ä¸åŒé‡‡é›†ç«™çš„èµ„æºåº“ä¸åŒ

**Q: æ’­æ”¾é“¾æŽ¥å¤±æ•ˆæ€Žä¹ˆåŠž?**
A: é‡‡é›†ç«™çš„é“¾æŽ¥æ—¶æ•ˆæ€§ä¸åŒ,å¯ä»¥é‡æ–°æœç´¢æˆ–é€‰æ‹©å…¶ä»–æ’­æ”¾æº

**Q: å¦‚ä½•æ·»åŠ è‡ªå®šä¹‰é‡‡é›†ç«™?**
A: åˆ›å»º `collectors_custom.json` æ–‡ä»¶ï¼ˆå¯å‚è€ƒ `collectors_custom.json.example`ï¼‰:
```json
{
  "é­”éƒ½èµ„æº": {
    "api": "https://moduzy.com/api.php/provide/vod/",
    "type": "json"
  },
  "ä½ çš„é‡‡é›†ç«™": {
    "api": "https://your-site.com/api.php/provide/vod/",
    "type": "json"
  }
}
```
é‡å¯å·¥å…·åŽå°†è‡ªåŠ¨åŠ è½½ï¼Œæ˜¾ç¤ºä¸º â­ æ ‡è®°

**Q: 360èµ„æºå’Œçº¢ç‰›èµ„æºä¸ºä»€ä¹ˆæ˜¯å¿…é€‰?**
A: è¿™ä¸¤ä¸ªç«™ç‚¹ç»è¿‡ä¸¥æ ¼æµ‹è¯•ï¼Œç¨³å®šæ€§é«˜ä¸”æ— éœ€ç‰¹æ®Šç½‘ç»œçŽ¯å¢ƒï¼Œå¼ºçƒˆæŽ¨èä¼˜å…ˆä½¿ç”¨

### é€šç”¨é—®é¢˜

**Q: å¦‚ä½•èŽ·å–æˆ¿é—´ ID?**
A: åœ¨ SyncTV æˆ¿é—´é¡µé¢ URL ä¸­,æ ¼å¼ä¸º 32 ä½å­—ç¬¦ä¸²

**Q: å¯¼å…¥å¤±è´¥æ˜¾ç¤º 401/403?**
A: æ£€æŸ¥ç”¨æˆ·åå¯†ç æˆ– Token æ˜¯å¦æ­£ç¡®

**Q: å¯¼å…¥å¤±è´¥æ˜¾ç¤º 404?**
A: æ£€æŸ¥æˆ¿é—´ ID æ˜¯å¦æ­£ç¡®,å¿…é¡»æ˜¯ 32 ä½å­—ç¬¦

**Q: æ”¯æŒå“ªäº›è§†é¢‘æ ¼å¼?**
A: æ”¯æŒæ‰€æœ‰ SyncTV æ”¯æŒçš„æ ¼å¼: mp4, m3u8, flv ç­‰

## ä¾èµ–

```bash
pip install requests
```

## License

MIT
